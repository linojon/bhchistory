$ refinerycms bhchistory
$ cd bhchistory/

$ rails generate refinery:engine document title:string category:string subject:string doctype:string description:text date:date source:string image:image

$ bundle install
$ rails generate refinery:documents
$ rake db:migrate
$ rake db:seed

$ git init
etc

gem 'haml-rails'

gem 'heroku'
group :development, :test do
  gem 'sqlite3'
end
group :production do
  gem 'thin'
  gem 'pg'
end


  $ heroku create --stack cedar
  => Creating morning-journey-3438... done, stack is cedar
  $ heroku apps:rename bhchistory
  

for heroku to compile assets
    edit config/application.rb
      if defined?(Bundler)
        # If you precompile assets before deploying to production, use this line
        #Bundler.require(*Rails.groups(:assets => %w(development test)))
        # If you want your assets lazily compiled in production, use this line
        Bundler.require(:default, :assets, Rails.env)
      end
    and
      # ref: http://devcenter.heroku.com/articles/rails3x-asset-pipeline-cedar
      config.assets.initialize_on_precompile = false


deploy
  $ git push heroku
  $ heroku run rake db:migrate
  $ heroku run rake db:seed
  $ heroku open
  



=========================
TO DO

- attach images to documents not working?

- document date: incomplete dates (year only, year/month only) defaults to January, 1



